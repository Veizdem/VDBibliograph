<p class="alert alert-warning">Вибачте, цей компонент ще знаходиться на етапі розробки.</p>

@if (resultString != null && resultString != "")
{
    <p class="alert alert-success">@resultString</p>
}
else
{
    <p class="alert alert-info">Поля позначені зірочкою (*) обов'язкові для заповнення.</p>
}

<div class="was-validated">
    <div class="form-group row">
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
            <input @bind="@surname1" type="text" class="form-control" placeholder="Прізвище *" required>
        </div>
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
            <input @bind="@name1" type="text" class="form-control" placeholder="Ім'я *" required>
        </div>
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
            <input @bind="@fName1" type="text" class="form-control" placeholder="По-батькові *" required>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
            <input @bind="@name" type="text" class="form-control" placeholder="Основна назва *" required>
        </div>
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
            <input @bind="@parName" type="text" class="form-control" placeholder="Паралельна назва">
        </div>
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
            <input @bind="@secName" type="text" class="form-control" placeholder="Підназва">
        </div>
    </div>
    <div class="form-group row">
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
            <input @bind="@org" type="text" class="form-control" placeholder="Організація">
        </div>
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
            <input @bind="@edit" type="text" class="form-control" placeholder="Редактор">
        </div>
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
            <input @bind="@sost" type="text" class="form-control" placeholder="Упорядник">
        </div>
    </div>
    <div class="form-group row">
        <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
            <input @bind="@izd" type="text" class="form-control" placeholder="Видання">
        </div>
        <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
            <input @bind="@town" type="text" class="form-control" placeholder="Місто видання *" required>
        </div>
        <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
            <input @bind="@print" type="text" class="form-control" placeholder="Видавництво *" required>
        </div>
        <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
            <input @bind="@year" type="text" class="form-control" placeholder="Рік видання *" required>
        </div>
    </div>
    <div class="form-group row">
        <div class="col">
            <input @bind="@specific" type="text" class="form-control" placeholder="Інформація про специфіку">
        </div>
    </div>
    <div class="form-group row">
        <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
            <input @bind="@pages" type="text" class="form-control" placeholder="Кількість сторінок *" required>
        </div>
        <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
            <input @bind="@images" type="text" class="form-control" placeholder="Кількість ілюстрацій">
        </div>
        <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
            <input @bind="@size" type="text" class="form-control" placeholder="Розмір">
        </div>
        <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
            <input @bind="@etc" type="text" class="form-control" placeholder="Супроводжувальний матеріал">
        </div>
    </div>
    <div class="form-group row">
        <div class="col-xl col-lg col-md-12 col-sm-12 col-12">
            <input @bind="mainSer" type="text" class="form-control" placeholder="Назва серії">
        </div>
        <div class="col-xl col-lg col-md-12 col-sm-12 col-12">
            <input @bind="secSer" type="text" class="form-control" placeholder="Номер випуску">
        </div>
        <div class="col-xl col-lg col-md-12 col-sm-12 col-12">
            <input @bind="@tom" type="text" class="form-control" placeholder="Номер тому">
        </div>
        <div class="col-xl col-lg col-md-12 col-sm-12 col-12">
            <input @bind="@toms" type="text" class="form-control" placeholder="Всього томів">
        </div>
        <div class="col-xl col-lg col-md-12 col-sm-12 col-12">
            <input @bind="@issn" type="text" class="form-control" placeholder="ISSN">
        </div>
    </div>
    <div class="form-group row">
        <div class="col">
            <input @bind="@comments" type="text" class="form-control" placeholder="Примітки">
        </div>
    </div>
    <div class="form-group row">
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
            <input @bind="@price" type="text" class="form-control" placeholder="Ціна">
        </div>
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
            <input @bind="@exempl" type="text" class="form-control" placeholder="Тираж">
        </div>
        <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12">
            <input @bund="@isbn" type="text" class="form-control" placeholder="ISBN">
        </div>
    </div>
    <div class="form-group row">
        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 d-flex justify-content-center">
            <button type="button" class="btn btn-success btn-block" @onclick="@SubmitClick">Сформувати опис</button>
        </div>
        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-6 d-flex justify-content-center">
            <button type="button" class="btn btn-danger btn-block" @onclick="@ClearClick">Очистити форму</button>
        </div>
    </div>
</div>

@code {
    private string resultString { get; set; }

    private string name1 { get; set; }
    private string surname1 { get; set; }
    private string fName1 { get; set; }

    private string name { get; set; }
    private string parName { get; set; }
    private string secName { get; set; }

    private string org { get; set; }
    private string edit { get; set; }
    private string sost { get; set; }

    private string izd { get; set; }
    private string print { get; set; }
    private string town { get; set; }
    private string year { get; set; }

    private string specific { get; set; }

    private string pages { get; set; }
    private string images { get; set; }
    private string size { get; set; }
    private string etc { get; set; }

    private string mainSer { get; set; }
    private string secSer { get; set; }
    private string tom { get; set; }
    private string toms { get; set; }
    private string issn { get; set; }

    private string comments { get; set; }

    private string price { get; set; }
    private string exempl { get; set; }
    private string isbn { get; set; }

    private void SubmitClick()
    {
        resultString = $"{surname1} " +
            $"{name1.Substring(0, 1)}. " +
            $"{fName1.Substring(0, 1)}. " +
            $"{(string.IsNullOrEmpty(name) ? "" : name)}" +
            $"{(string.IsNullOrEmpty(parName) ? "" : " = " + parName)}" +
            $"{(string.IsNullOrEmpty(secName) ? "" : " : " + secName)}" +
            $" / {name1}" +
            $" {fName1}" +
            $" {surname1}" +
            $"{(string.IsNullOrEmpty(edit) ? string.IsNullOrEmpty(sost) ? "" : " [" + sost + "] " : string.IsNullOrEmpty(sost) ? " [" + edit + "] " : " [" + edit + " ; " + sost + "]")}" +
            $"{(string.IsNullOrEmpty(org) ? "" : "; " + org)}" +
            $"{(string.IsNullOrEmpty(izd) ? "" : ". — " + izd)}" +
            $"{(string.IsNullOrEmpty(specific) ? "" : ". — " + specific)}" +
            $". — {town}" +
            $" : {print}" +
            $", {year}" +
            $". — {pages} с." +
            $"{(string.IsNullOrEmpty(images) ? "" : " : " + images + " iл.")}" +
            $"{(string.IsNullOrEmpty(size) ? "" : " ; " + size)}" +
            $"{(string.IsNullOrEmpty(etc) ? "" : " + " + etc)}";

        //// TODO Добавить серия, иссн, выпуск
        //if (IsIt(mainSer))
        //{
        //    if (IsIt(secSer))
        //    {
        //        if (IsIt(issn))
        //        {
        //            v2 = $". — ({mainSer} , ISSN {issn} ; {secSer})";
        //        }
        //        else
        //        {
        //            v2 = $". — ({mainSer} ; {secSer})";
        //        }
        //    }
        //    else
        //    {
        //        if (IsIt(issn))
        //        {
        //            v2 = $". — ({mainSer} , ISSN {issn})";
        //        }
        //        else
        //        {
        //            v2 = $". — ({mainSer})";
        //        }
        //    }
        //}
        //else
        //{
        //    if (IsIt(secSer))
        //    {
        //        if (IsIt(issn))
        //        {
        //            v2 = $". — (ISSN {issn} ; {secSer})";
        //        }
        //        else
        //        {
        //            v2 = $". — ({secSer})";
        //        }
        //    }
        //    else
        //    {
        //        if (IsIt(issn))
        //        {
        //            v2 = $". — (ISSN {issn})";
        //        }
        //        else
        //        {
        //            v2 = "";
        //        }
        //    }
        //}
        //v3 = $"{(IsIt(comments) ? ". — " + comments : "")}";

        //// TODO Добавить исбн, цена, тираж
        //if (IsIt(isbn))
        //{
        //    if (IsIt(price))
        //    {
        //        if (IsIt(exempl))
        //        {
        //            v4 = $". — ISBN {isbn} : {price} , {exempl}";
        //        }
        //        else
        //        {
        //            v4 = $". — ISBN {isbn} : {price}";
        //        }
        //    }
        //    else
        //    {
        //        if (IsIt(exempl))
        //        {
        //            v4 = $". — ISBN {isbn} , {exempl}";
        //        }
        //        else
        //        {
        //            v4 = $". — ISBN {isbn}";
        //        }
        //    }
        //}
        //else
        //{
        //    if (IsIt(price))
        //    {
        //        if (IsIt(exempl))
        //        {
        //            v4 = $". — {price} , {exempl}";
        //        }
        //        else
        //        {
        //            v4 = $". — {price}";
        //        }
        //    }
        //    else
        //    {
        //        if (IsIt(exempl))
        //        {
        //            v4 = $". — {exempl}";
        //        }
        //        else
        //        {
        //            v4 = "";
        //        }
        //    }
        //}

        //v = v1 + v2 + v3 + v4;

        //if (v.Substring(v.Length - 1) != ".")
        //{
        //    v += ".";
        //}
    }

    private void ClearClick()
    {
        resultString = "";

        name1 = "";
        surname1 = "";
        fName1 = "";

        name = "";
        parName = "";
        secName = "";

        org = "";
        edit = "";
        sost = "";

        izd = "";
        print = "";
        town = "";
        year = "";

        specific = "";

        pages = "";
        images = "";
        size = "";
        etc = "";

        mainSer = "";
        secSer = "";
        tom = "";
        toms = "";
        issn = "";

        comments = "";

        price = "";
        exempl = "";
        isbn = "";
    }

    private bool IsIt(string text)
    {
        if (text.Length > 0)
        {
            return true;
        }
        else
        {
            return false;
        }
    }
}
